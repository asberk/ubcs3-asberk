<!doctype html>

<html>
  <head>

    <meta charset="utf-8">
    <script src="https://d3js.org/d3.v4.min.js"> </script>

  </head>
  <body>

    <svg height="600px" width="960px" style="border: 1px solid black;">
      <!--<circle cx="50" cy="50" r="40" stroke="black" stroke-width="1" fill="white" />-->


    </svg>

    <script>
      var canvas = d3.select('svg');
      var dataPoints = [];
      var circleColours = [];
      var w = 960, h = 600, N = 200;
      for(var i = 0; i < N; i++) {
        var r = Math.round(255*Math.random()); // d3 doesn't like floats; wants ints
        var g = Math.round(255*Math.random());
        var b = Math.round(255*Math.random());

        dataPoints.push([Math.random()*w, Math.random()*h, Math.random()*50, [r,g,b]]);
      }

      console.log(canvas.attr('height'));
      console.log(dataPoints);


      canvas.selectAll('circle').data(dataPoints).enter()
        .append('circle')
        .attr('cx', function(d) {return d[0];})
        .attr('cy', function(d) {return d[1];})
        .attr('r', function(d) {return d[2];})
        .attr('fill', function(d) {
          return 'rgba(' + d[3].toString() + ',.5)';
        });
    </script>

  </body>



</html>
